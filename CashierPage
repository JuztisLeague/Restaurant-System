package BonAppetit;

import java.awt.EventQueue;
import javax.swing.table.DefaultTableCellRenderer;
import javax.swing.JFrame;
import java.awt.Rectangle;
import java.awt.image.BufferedImage;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import javax.swing.JPanel;
import java.awt.Color;
import java.awt.Container;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import java.awt.Font;
import java.awt.Graphics2D;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Image;
import java.awt.Insets;
import javax.swing.JButton;
import java.awt.Dimension;
import javax.swing.ImageIcon;
import javax.swing.JScrollPane;
import javax.swing.border.TitledBorder;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.JTableHeader;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import javax.swing.JTable;
import javax.swing.SwingConstants;
import java.text.SimpleDateFormat;
import java.util.Date;
import javax.swing.border.EtchedBorder;

public class CashierPage extends JFrame {
	
	
	Connection con;
	PreparedStatement pst;
	ResultSet rs;
	ResultSet countResult;
	private JLabel lblTotalPrice_12;
	private DefaultTableCellRenderer centerRenderer;
	private JTableHeader tableHeader;
	private JLabel renderer;
	

	private static final long serialVersionUID = 1L;
	
	
	public void connect() {
		try {
			Class.forName("com.mysql.cj.jdbc.Driver");
			con = DriverManager.getConnection("jdbc:mysql://localhost:3306/bon_appetit", "root", "");
		}
		
		catch (ClassNotFoundException ex) {
			
		}
		
		catch (SQLException ex) {
			
		}
	}

	public static void main(String[] args) {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					CashierPage window = new CashierPage();
					window.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
				
				
			}
		});
	}
	
	public CashierPage() {
		initialize();
		connect();
		codesData();
		implementStatuses();
	}

	private void initialize() {
		
		
		setUndecorated(true);
		setBounds(0, 0, 1920, 1080);
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		getContentPane().setLayout(null);
		
		JButton btnClose = new JButton("");
		btnClose.setFocusable(false);
		btnClose.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				System.exit(0);
			}
			
		});
		btnClose.setBounds(1850, 11, 64, 64);
		getContentPane().add(btnClose);
		btnClose.setIcon(new ImageIcon(CashierPage.class.getResource("/images/cancel.png")));
		btnClose.setRequestFocusEnabled(false);
		btnClose.setPreferredSize(new Dimension(64, 64));
		btnClose.setBackground(new Color(64, 64, 64));
		
		panelRight = new JPanel();
		panelRight.setBackground(new Color(0, 0, 0));
		panelRight.setBounds(1436, 11, 484, 1058);
		getContentPane().add(panelRight);
		panelRight.setLayout(null);
		
		panel = new JPanel();
		panel.setFont(new Font("Century Gothic", Font.BOLD, 20));
		panel.setBackground(new Color(64, 64, 64));
		panel.setBorder(new TitledBorder(new EtchedBorder(EtchedBorder.LOWERED, new Color(255, 255, 255), new Color(21, 25, 28)), "Payment Options", TitledBorder.LEADING, TitledBorder.TOP, new Font("Century Gothic", Font.BOLD, 18), Color.WHITE));
		panel.setBounds(10, 11, 464, 137);
		panelRight.add(panel);
		panel.setLayout(null);
		
		btnCash = new JButton("Cash");
		btnCash.setFocusable(false);
		btnCash.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnCash.setForeground(new Color(255, 255, 255));
		btnCash.setBackground(new Color(64, 64, 64));
		btnCash.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				jButtonCashActionPerformed(e);
			}
		});
		btnCash.setBounds(76, 53, 106, 48);
		panel.add(btnCash);
		
		btnCreditCard = new JButton("GCash");
		btnCreditCard.setFocusable(false);
		btnCreditCard.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnCreditCard.setForeground(new Color(255, 255, 255));
		btnCreditCard.setBackground(new Color(64, 64, 64));
		btnCreditCard.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				jButtonInstaPaymentActionPerformed(e);
			}
		});
		btnCreditCard.setBounds(281, 55, 106, 46);
		panel.add(btnCreditCard);
		
		panelReceipt = new JPanel();
		panelReceipt.setForeground(new Color(255, 255, 255));
		panelReceipt.setBackground(new Color(64, 64, 64));
		panelReceipt.setVisible(false);
		panelReceipt.setBorder(new TitledBorder(new EtchedBorder(EtchedBorder.LOWERED, new Color(255, 255, 255), new Color(21, 25, 28)), "Order Receipt", TitledBorder.LEADING, TitledBorder.TOP, new Font("Century Gothic", Font.BOLD, 18), Color.WHITE)); // Set the font size for the title and the border color to white
		panelReceipt.setBounds(10, 159, 464, 888);
		panelRight.add(panelReceipt);
		panelReceipt.setLayout(null);
		originalIcon = new ImageIcon(CashierPage.class.getResource("/images/GCash-MyQR-18052024210346.PNG.jpg"));

        originalImage = originalIcon.getImage();
        int newWidth = 444; 
        int newHeight = 855; 
        resizedImage = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);
        g2d = resizedImage.createGraphics();
        g2d.drawImage(originalImage, 0, 0, newWidth, newHeight, null);
        g2d.dispose(); 

        resizedIcon = new ImageIcon(resizedImage);
        
        lblTotalPrice_12 = new JLabel("Total Price: ");
        lblTotalPrice_12.setVisible(false);
        
        lblTotalPrice_13 = new JLabel("");
        lblTotalPrice_13.setOpaque(true);
        lblTotalPrice_13.setBackground(new Color(255, 255, 255));
        lblTotalPrice_13.setFont(new Font("Segoe UI Black", Font.PLAIN, 40));
        lblTotalPrice_13.setHorizontalAlignment(SwingConstants.CENTER);
        lblTotalPrice_13.setBounds(50, 617, 365, 43);
        
        panelReceipt.add(lblTotalPrice_13);
        lblTotalPrice_12.setFont(new Font("Monospaced", Font.PLAIN, 11));
        lblTotalPrice_12.setBounds(280, 794, 174, 37);
        panelReceipt.add(lblTotalPrice_12);
        
        lblGashReceipt = new JLabel("");
        
                lblGashReceipt.setIcon(resizedIcon);
                
                        lblGashReceipt.setBounds(10, 22, 444, 855);
                        panelReceipt.add(lblGashReceipt);
                        
                        
       labelsPanel = new JPanel();
       labelsPanel.setVisible(false);
       labelsPanel.setBounds(10, 22, 444, 855);
       panelReceipt.add(labelsPanel);
       labelsPanel.setLayout(new GridBagLayout());
		
		scrollPane = new JScrollPane();
		scrollPane.setBounds(109, 11, 1321, 1058);
		lblGashReceipt.setVisible(false);
		getContentPane().add(scrollPane);
		
		panelmiddle = new JPanel();
		scrollPane.setViewportView(panelmiddle);
		panelmiddle.setBackground(new Color(0, 0, 0));
		panelmiddle.setLayout(null);
		
		lblCashierPage = new JLabel("Cashier Page");
		lblCashierPage.setBounds(10, 11, 307, 43);
		panelmiddle.add(lblCashierPage);
		lblCashierPage.setForeground(Color.LIGHT_GRAY);
		lblCashierPage.setFont(new Font("Century Gothic", Font.BOLD, 38));
		
		panel_1 = new JPanel();
		panel_1.setBackground(new Color(64, 64, 64));
		panel_1.setBounds(10, 79, 494, 966);
		panelmiddle.add(panel_1);
		panel_1.setLayout(null);
		
		lblOrderCode = new JLabel("Order Code");
		lblOrderCode.setBounds(10, 11, 127, 26);
		panel_1.add(lblOrderCode);
		lblOrderCode.setForeground(new Color(255, 255, 255));
		lblOrderCode.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_1 = new JLabel("Order Code");
		lblOrderCode_1.setVisible(false);
		lblOrderCode_1.setBounds(10, 101, 127, 26);
		panel_1.add(lblOrderCode_1);
		lblOrderCode_1.setForeground(new Color(255, 255, 255));
		lblOrderCode_1.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_2 = new JLabel("Order Code");
		lblOrderCode_2.setVisible(false);
		lblOrderCode_2.setBounds(10, 191, 127, 26);
		panel_1.add(lblOrderCode_2);
		lblOrderCode_2.setForeground(new Color(255, 255, 255));
		lblOrderCode_2.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_4 = new JLabel("Order Code");
		lblOrderCode_4.setVisible(false);
		lblOrderCode_4.setBounds(10, 371, 127, 26);
		panel_1.add(lblOrderCode_4);
		lblOrderCode_4.setForeground(new Color(255, 255, 255));
		lblOrderCode_4.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_3 = new JLabel("Order Code");
		lblOrderCode_3.setVisible(false);
		lblOrderCode_3.setBounds(10, 281, 127, 26);
		panel_1.add(lblOrderCode_3);
		lblOrderCode_3.setForeground(new Color(255, 255, 255));
		lblOrderCode_3.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_5 = new JLabel("Order Code");
		lblOrderCode_5.setVisible(false);
		lblOrderCode_5.setBounds(10, 461, 127, 26);
		panel_1.add(lblOrderCode_5);
		lblOrderCode_5.setForeground(new Color(255, 255, 255));
		lblOrderCode_5.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_10 = new JLabel("Order Code");
		lblOrderCode_10.setVisible(false);
		lblOrderCode_10.setBounds(10, 903, 127, 26);
		panel_1.add(lblOrderCode_10);
		lblOrderCode_10.setForeground(new Color(255, 255, 255));
		lblOrderCode_10.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_9 = new JLabel("Order Code");
		lblOrderCode_9.setVisible(false);
		lblOrderCode_9.setBounds(10, 813, 127, 26);
		panel_1.add(lblOrderCode_9);
		lblOrderCode_9.setForeground(new Color(255, 255, 255));
		lblOrderCode_9.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_8 = new JLabel("Order Code");
		lblOrderCode_8.setVisible(false);
		lblOrderCode_8.setBounds(10, 723, 127, 26);
		panel_1.add(lblOrderCode_8);
		lblOrderCode_8.setForeground(new Color(255, 255, 255));
		lblOrderCode_8.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_7 = new JLabel("Order Code");
		lblOrderCode_7.setVisible(false);
		lblOrderCode_7.setBounds(10, 633, 127, 26);
		panel_1.add(lblOrderCode_7);
		lblOrderCode_7.setForeground(new Color(255, 255, 255));
		lblOrderCode_7.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblOrderCode_6 = new JLabel("Order Code");
		lblOrderCode_6.setVisible(false);
		lblOrderCode_6.setBounds(10, 543, 127, 26);
		panel_1.add(lblOrderCode_6);
		lblOrderCode_6.setForeground(new Color(255, 255, 255));
		lblOrderCode_6.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice = new JLabel("Total Price");
		lblTotalPrice.setBounds(199, 11, 127, 26);
		panel_1.add(lblTotalPrice);
		lblTotalPrice.setForeground(new Color(255, 255, 255));
		lblTotalPrice.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_1 = new JLabel("Total Price");
		lblTotalPrice_1.setVisible(false);
		lblTotalPrice_1.setBounds(199, 101, 127, 26);
		panel_1.add(lblTotalPrice_1);
		lblTotalPrice_1.setForeground(new Color(255, 255, 255));
		lblTotalPrice_1.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_2 = new JLabel("Total Price");
		lblTotalPrice_2.setVisible(false);
		lblTotalPrice_2.setBounds(199, 191, 127, 26);
		panel_1.add(lblTotalPrice_2);
		lblTotalPrice_2.setForeground(new Color(255, 255, 255));
		lblTotalPrice_2.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_3 = new JLabel("Total Price");
		lblTotalPrice_3.setVisible(false);
		lblTotalPrice_3.setBounds(199, 281, 127, 26);
		panel_1.add(lblTotalPrice_3);
		lblTotalPrice_3.setForeground(new Color(255, 255, 255));
		lblTotalPrice_3.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_4 = new JLabel("Total Price");
		lblTotalPrice_4.setVisible(false);
		lblTotalPrice_4.setBounds(199, 371, 127, 26);
		panel_1.add(lblTotalPrice_4);
		lblTotalPrice_4.setForeground(new Color(255, 255, 255));
		lblTotalPrice_4.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_5 = new JLabel("Total Price");
		lblTotalPrice_5.setVisible(false);
		lblTotalPrice_5.setBounds(199, 461, 127, 26);
		panel_1.add(lblTotalPrice_5);
		lblTotalPrice_5.setForeground(new Color(255, 255, 255));
		lblTotalPrice_5.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_6 = new JLabel("Total Price");
		lblTotalPrice_6.setVisible(false);
		lblTotalPrice_6.setBounds(199, 543, 127, 26);
		panel_1.add(lblTotalPrice_6);
		lblTotalPrice_6.setForeground(new Color(255, 255, 255));
		lblTotalPrice_6.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_7 = new JLabel("Total Price");
		lblTotalPrice_7.setVisible(false);
		lblTotalPrice_7.setBounds(199, 633, 127, 26);
		panel_1.add(lblTotalPrice_7);
		lblTotalPrice_7.setForeground(new Color(255, 255, 255));
		lblTotalPrice_7.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_8 = new JLabel("Total Price");
		lblTotalPrice_8.setVisible(false);
		lblTotalPrice_8.setBounds(199, 723, 127, 26);
		panel_1.add(lblTotalPrice_8);
		lblTotalPrice_8.setForeground(new Color(255, 255, 255));
		lblTotalPrice_8.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_9 = new JLabel("Total Price");
		lblTotalPrice_9.setVisible(false);
		lblTotalPrice_9.setBounds(199, 813, 127, 26);
		panel_1.add(lblTotalPrice_9);
		lblTotalPrice_9.setForeground(new Color(255, 255, 255));
		lblTotalPrice_9.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblTotalPrice_10 = new JLabel("Total Price");
		lblTotalPrice_10.setVisible(false);
		lblTotalPrice_10.setBounds(199, 903, 127, 26);
		panel_1.add(lblTotalPrice_10);
		lblTotalPrice_10.setForeground(new Color(255, 255, 255));
		lblTotalPrice_10.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		lblView = new JLabel("View Orders");
		lblView.setBounds(357, 11, 127, 26);
		panel_1.add(lblView);
		lblView.setForeground(new Color(255, 255, 255));
		lblView.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		
		btnView_1 = new JButton("View Order");
		btnView_1.setFocusable(false);
		btnView_1.setBackground(new Color(64, 64, 64));
		btnView_1.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_1.setForeground(new Color(255, 255, 255));
		btnView_1.setVisible(false);
		btnView_1.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 1);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_1.setBounds(336, 97, 148, 35);
		panel_1.add(btnView_1);
		
		btnView_2 = new JButton("View Order");
		btnView_2.setFocusable(false);
		btnView_2.setBackground(new Color(64, 64, 64));
		btnView_2.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_2.setForeground(new Color(255, 255, 255));
		btnView_2.setVisible(false);
		btnView_2.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 2);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_2.setBounds(336, 191, 148, 35);
		panel_1.add(btnView_2);
		
		btnView_3 = new JButton("View Order");
		btnView_3.setFocusable(false);
		btnView_3.setBackground(new Color(64, 64, 64));
		btnView_3.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_3.setForeground(new Color(255, 255, 255));
		btnView_3.setVisible(false);
		btnView_3.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 3);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_3.setBounds(336, 277, 148, 35);
		panel_1.add(btnView_3);
		
		btnView_4 = new JButton("View Order");
		btnView_4.setFocusable(false);
		btnView_4.setBackground(new Color(64, 64, 64));
		btnView_4.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_4.setForeground(new Color(255, 255, 255));
		btnView_4.setVisible(false);
		btnView_4.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 4);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_4.setBounds(336, 367, 148, 35);
		panel_1.add(btnView_4);
		
		btnView_5 = new JButton("View Order");
		btnView_5.setFocusable(false);
		btnView_5.setBackground(new Color(64, 64, 64));
		btnView_5.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_5.setForeground(new Color(255, 255, 255));
		btnView_5.setVisible(false);
		btnView_5.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 5);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_5.setBounds(336, 457, 148, 35);
		panel_1.add(btnView_5);
		
		btnView_6 = new JButton("View Order");
		btnView_6.setFocusable(false);
		btnView_6.setBackground(new Color(64, 64, 64));
		btnView_6.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_6.setForeground(new Color(255, 255, 255));
		btnView_6.setVisible(false);
		btnView_6.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 6);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_6.setBounds(336, 539, 148, 35);
		panel_1.add(btnView_6);
		
		btnView_7 = new JButton("View Order");
		btnView_7.setFocusable(false);
		btnView_7.setBackground(new Color(64, 64, 64));
		btnView_7.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_7.setForeground(new Color(255, 255, 255));
		btnView_7.setVisible(false);
		btnView_7.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 7);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_7.setBounds(336, 633, 148, 35);
		panel_1.add(btnView_7);
		
		btnView_8 = new JButton("View Order");
		btnView_8.setFocusable(false);
		btnView_8.setBackground(new Color(64, 64, 64));
		btnView_8.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_8.setForeground(new Color(255, 255, 255));
		btnView_8.setVisible(false);
		btnView_8.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 8);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_8.setBounds(336, 717, 148, 35);
		panel_1.add(btnView_8);
		
		btnView_9 = new JButton("View Order");
		btnView_9.setFocusable(false);
		btnView_9.setBackground(new Color(64, 64, 64));
		btnView_9.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_9.setForeground(new Color(255, 255, 255));
		btnView_9.setVisible(false);
		btnView_9.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 9);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_9.setBounds(336, 813, 148, 35);
		panel_1.add(btnView_9);
		
		btnView_10 = new JButton("View Order");
		btnView_10.setFocusable(false);
		btnView_10.setBackground(new Color(64, 64, 64));
		btnView_10.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnView_10.setForeground(new Color(255, 255, 255));
		btnView_10.setVisible(false);
		btnView_10.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				
				tableRefresh();
				jViewButtonActionPerformed(e, 10);
				lblTotalPrice_11.setVisible(true);
			}
		});
		btnView_10.setBounds(336, 903, 148, 35);
		panel_1.add(btnView_10);
		
		scrollPane_1 = new JScrollPane();
		scrollPane_1.setForeground(new Color(255, 255, 255));
		scrollPane_1.setBackground(new Color(64, 64, 64));
		scrollPane_1.setBounds(514, 79, 795, 499);
		panelmiddle.add(scrollPane_1);
		scrollPane_1.getViewport().setBackground(new Color(64, 64, 64));
		
		table = new JTable();
		table.setRowHeight(50);
		table.setBackground(new Color(64, 64, 64));
		table.setForeground(new Color(255, 255, 255));
		model = new DefaultTableModel();
        Object[] column = {"Code","ID","Name","Price","No.","Total", "Status","Remarks"};
        model.setColumnIdentifiers(column);
        table.setModel(model);
		scrollPane_1.setViewportView(table);
		
		table.getColumnModel().getColumn(0).setPreferredWidth(50); 
        table.getColumnModel().getColumn(1).setPreferredWidth(30); 
        table.getColumnModel().getColumn(2).setPreferredWidth(200); 
        table.getColumnModel().getColumn(3).setPreferredWidth(50); 
        table.getColumnModel().getColumn(4).setPreferredWidth(30); 
        table.getColumnModel().getColumn(5).setPreferredWidth(70); 
        table.getColumnModel().getColumn(6).setPreferredWidth(100); 
        table.getColumnModel().getColumn(7).setPreferredWidth(100); 

        tableHeader = table.getTableHeader();
        tableHeader.setFont(new Font("Century Gothic", Font.BOLD, 20));
        tableHeader.setBackground(new Color(64, 64, 64));

        renderer = (DefaultTableCellRenderer) table.getTableHeader().getDefaultRenderer();
        renderer.setHorizontalAlignment(JLabel.CENTER);

        table.setFont(new Font("Century Gothic", Font.PLAIN, 14));

        table.setOpaque(true);
		
		btnNewButton = new JButton("Payment Complete");
		btnNewButton.setFocusable(false);
		btnNewButton.setBackground(new Color(64, 64, 64));
		btnNewButton.setForeground(new Color(255, 255, 255));
		btnNewButton.setFont(new Font("Century Gothic", Font.PLAIN, 30));
		btnNewButton.setBounds(964, 959, 327, 70);
		panelmiddle.add(btnNewButton);
		
		lblTotalPrice_11 = new JLabel("Total Price:");
		lblTotalPrice_11.setBounds(1066, 589, 243, 26);
		panelmiddle.add(lblTotalPrice_11);
		lblTotalPrice_11.setVisible(false);
		lblTotalPrice_11.setForeground(new Color(255, 255, 255));
		lblTotalPrice_11.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		btnNewButton.addActionListener(new ActionListener() {
		    public void actionPerformed(ActionEvent e) {
		        int selectedRow = table.getSelectedRow();
		        if (selectedRow == -1) {
		            JOptionPane.showMessageDialog(null, "Please select an order to delete.", "Error", JOptionPane.ERROR_MESSAGE);
		            return; 
		        }
		        
		        String orderCode = (String) table.getValueAt(selectedRow, 0);
		        
		        deleteOrdersByOrderCode(orderCode, () -> codesData());
		        panelReceipt.setVisible(false);
		        table.removeAll();
		        lblTotalPrice_11.setText("Total Price: ");
		    }
		});
		
		
		centerRenderer = new DefaultTableCellRenderer();
		centerRenderer.setHorizontalAlignment(SwingConstants.CENTER);
		table.getColumnModel().getColumn(0).setCellRenderer(centerRenderer); 
		table.getColumnModel().getColumn(1).setCellRenderer(centerRenderer); 
		table.getColumnModel().getColumn(3).setCellRenderer(centerRenderer); 
		table.getColumnModel().getColumn(4).setCellRenderer(centerRenderer); 
		table.getColumnModel().getColumn(5).setCellRenderer(centerRenderer); 
		table.getColumnModel().getColumn(6).setCellRenderer(centerRenderer); 
		
		
		
		panelLeft = new JPanel();
		panelLeft.setBounds(0, 11, 103, 1058);
		panelLeft.setLayout(null);
		panelLeft.setBackground(Color.BLACK);
		getContentPane().add(panelLeft);
		
		lblMenu = new JLabel("MENU");
		lblMenu.setForeground(Color.LIGHT_GRAY);
		lblMenu.setFont(new Font("Century Gothic", Font.PLAIN, 20));
		lblMenu.setBounds(23, 50, 56, 26);
		panelLeft.add(lblMenu);
		
		jButtonAppetizers = new JButton("");
		jButtonAppetizers.setFocusable(false);
		jButtonAppetizers.setRequestFocusEnabled(false);
		jButtonAppetizers.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if (PersonnelLogin.storedPersonnelID() == 1) {
					new OptionsAdmin().setVisible(true);
					dispose();
				} else {
					new OptionsCashier().setVisible(true);
					dispose();
				}
			}
		});
		jButtonAppetizers.setIcon(new ImageIcon(CashierPage.class.getResource("/images/user.png")));
		jButtonAppetizers.setPreferredSize(new Dimension(64, 64));
		jButtonAppetizers.setBounds(new Rectangle(19, 126, 64, 64));
		jButtonAppetizers.setBackground(Color.BLACK);
		jButtonAppetizers.setBounds(19, 126, 64, 64);
		panelLeft.add(jButtonAppetizers);
		
		jButtonEntree = new JButton("");
		jButtonEntree.setFocusable(false);
		jButtonEntree.setRequestFocusEnabled(false);
		jButtonEntree.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				new PersonnelLogin().setVisible(true);
				dispose();
			}
		});
		jButtonEntree.setIcon(new ImageIcon(CashierPage.class.getResource("/images/log-out.png")));
		jButtonEntree.setPreferredSize(new Dimension(64, 64));
		jButtonEntree.setBounds(new Rectangle(19, 240, 64, 64));
		jButtonEntree.setBackground(Color.BLACK);
		jButtonEntree.setBounds(19, 240, 64, 64);
		panelLeft.add(jButtonEntree);
		
		jButtonDesserts = new JButton("");
		jButtonDesserts.setFocusable(false);
		jButtonDesserts.setRequestFocusEnabled(false);
		jButtonDesserts.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) { 
				
				if (PersonnelLogin.storedPersonnelID() == 1) {
					new OptionsAdmin().setVisible(true);
				} else {
					new OptionsCashier().setVisible(true);
				}
				dispose();
			}
		});
		jButtonDesserts.setIcon(new ImageIcon(CashierPage.class.getResource("/images/left-arrow.png")));
		jButtonDesserts.setPreferredSize(new Dimension(64, 64));
		jButtonDesserts.setBounds(new Rectangle(19, 354, 64, 64));
		jButtonDesserts.setBackground(Color.BLACK);
		jButtonDesserts.setBounds(19, 354, 64, 64);
		panelLeft.add(jButtonDesserts);
		
		lblBackground = new JLabel("New label");
		lblBackground.setBounds(0, 0, 1920, 1080);
		lblBackground.setBackground(new Color(0, 0, 0));
		lblBackground.setIcon(new ImageIcon(CashierPage.class.getResource("/images/mainBG.png")));
		getContentPane().add(lblBackground);
		
		
		
	}
	
	public void jButtonInstaPaymentActionPerformed(ActionEvent e) {
		panelReceipt.setVisible(true);
		lblGashReceipt.setVisible(true);
		labelsPanel.setVisible(false);
		lblTotalPrice_12.setVisible(false);
		lblTotalPrice_13.setVisible(true);
		
	}
	
	public void codesData() {
    	
    	System.out.println("Performed");
    			
		try {
			
			pst = con.prepareStatement("SELECT COUNT(*) FROM order_cart");
	        countResult = pst.executeQuery();
	        countResult.next();
	        totalRows = countResult.getInt(1); 
	        int limit = totalRows;
			
	        
	        pst = con.prepareStatement("select order_code, order_number from order_cart");
	        rs = pst.executeQuery();
	        
	        int count = 0;
	        while (rs.next() && count < limit) {
	        	code = rs.getString(1);
	        	int number = Integer.valueOf(rs.getString(2));
	        	if (codeChecker(number)) {
	        		switch(trueCount) {
	        		case 1:{
	        			
			        	lblOrderCode_1.setText(code);
			        	lblOrderCode_1.setVisible(true);;
			        	lblTotalPrice_1.setVisible(true);
			        	btnView_1.setVisible(true);
			        	break;
			        }
	        		case 2:{
	        			
			        	lblOrderCode_2.setText(code);
			        	lblOrderCode_2.setVisible(true);
			        	lblTotalPrice_2.setVisible(true);
			        	btnView_2.setVisible(true);
			        	break;
			        }
		        	case 3:{
		        		
		        		lblOrderCode_3.setText(code);
		        		lblOrderCode_3.setVisible(true);
		        		lblTotalPrice_3.setVisible(true);
		        		btnView_3.setVisible(true);
			        	break;
		        	}
		        	case 4:{
		        		
		        		lblOrderCode_4.setText(code);
		        		lblOrderCode_4.setVisible(true);
		        		lblTotalPrice_4.setVisible(true);
		        		btnView_4.setVisible(true);
			        	break;
		        	}
		        	case 5:{
		        		
		        		lblOrderCode_5.setText(code);
		        		lblOrderCode_5.setVisible(true);
		        		lblTotalPrice_5.setVisible(true);
		        		btnView_5.setVisible(true);
			        	break;
		        	}
		        	case 6:{
		        		
		        		lblOrderCode_6.setText(code);
		        		lblOrderCode_6.setVisible(true);
		        		lblTotalPrice_6.setVisible(true);
		        		btnView_6.setVisible(true);
			        	break;
		        	}
		        	case 7:{
		        		
		        		lblOrderCode_7.setText(code);
		        		lblOrderCode_7.setVisible(true);
		        		lblTotalPrice_7.setVisible(true);
		        		btnView_7.setVisible(true);
			        	break;
		        	}
		        	case 8:{
		        		
		        		lblOrderCode_8.setText(code);
		        		lblOrderCode_8.setVisible(true);
		        		lblTotalPrice_8.setVisible(true);
		        		btnView_8.setVisible(true);
			        	break;
		        	}
		        	case 9:{
		        		
		        		lblOrderCode_9.setText(code);
		        		lblOrderCode_9.setVisible(true);
		        		lblTotalPrice_9.setVisible(true);
		        		btnView_9.setVisible(true);
			        	break;
		        	}
		        	case 10:{
		        		
		        		lblOrderCode_10.setText(code);
		        		lblOrderCode_10.setVisible(true);
		        		lblTotalPrice_10.setVisible(true);
		        		btnView_10.setVisible(true);
			        	break;
		        	}
	        	}
	        	
	        	
	        	}
	        	
	        	count++;
	        }
	        
	       }
	    catch (SQLException e1) 
	        {            
	    		e1.printStackTrace();
	        }
		
		pressedCount++;
    	
    }
	
	
	public void implementStatuses() {
		
		for (int i = 1; i <= trueCount; i++) {
			totalPriceAssign(i);
		}
		
	}
	
	
	
	
	private boolean codeChecker(int number) {
		
		if ( number == 1) {
			trueCount++;
			return true;
		}
		return false;
		
	}
	
	public int stringConverter(int value) {
		int digit = 0;
		switch(value) {
		case 1:{
			digit = Integer.parseInt(lblOrderCode_1.getText().toString());break;
		}
		case 2:{
			digit = Integer.parseInt(lblOrderCode_2.getText().toString());break;
		}
		case 3:{
			digit = Integer.parseInt(lblOrderCode_3.getText().toString());break;
		}
		case 4:{
			digit = Integer.parseInt(lblOrderCode_4.getText().toString());break;
		}
		case 5:{
			digit = Integer.parseInt(lblOrderCode_5.getText().toString());break;
		}
		case 6:{
			digit = Integer.parseInt(lblOrderCode_6.getText().toString());break;
		}
		case 7:{
			digit = Integer.parseInt(lblOrderCode_7.getText().toString());break;
		}
		case 8:{
			digit = Integer.parseInt(lblOrderCode_8.getText().toString());break;
		}
		case 9:{
			digit = Integer.parseInt(lblOrderCode_9.getText().toString());break;
		}
		case 10:{
			digit = Integer.parseInt(lblOrderCode_10.getText().toString());break;
		}
		}
		
		return digit;
	}
	
	public void totalPriceAssign(int value) {
	    try {
	        Statement statement = con.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);
	        rs = statement.executeQuery("SELECT * FROM order_cart WHERE FIND_IN_SET('" + stringConverter(value) + "', order_code)");

	        int countSimilarOrderCodes = 0; 
	        while (rs.next()) {
	            countSimilarOrderCodes++; 
	        }

	        String[] stringsTotalPrice = new String[countSimilarOrderCodes]; 
	        rs.beforeFirst(); 
	        int index = 0; 
	        while (rs.next()) {
	            stringsTotalPrice[index] = rs.getString("total_price");
	            if (index == countSimilarOrderCodes - 1) {
	                codesCount++;
	                assignTotalPrice(stringsTotalPrice[index], codesCount);
	            }
	            index++;
	        }
	    } catch (SQLException e1) {
	        e1.printStackTrace();
	    }
	}
	
	public static boolean allStringsEqual(String[] strings) {
        for (int i = 1; i < strings.length; i++) {
            if (!strings[i].equals(strings[0])) {
                return false;
            }
        }
        return true;
    }
	
	
	
	public void assignTotalPrice(String price, int value) {
		switch(value) {
		case 1:{
			lblTotalPrice_1.setText(price);break;
		}
		case 2:{
			lblTotalPrice_2.setText(price);break;
		}
		case 3:{
			lblTotalPrice_3.setText(price);break;
		}
		case 4:{
			lblTotalPrice_4.setText(price);break;
		}
		case 5:{
			lblTotalPrice_5.setText(price);break;
		}
		case 6:{
			lblTotalPrice_6.setText(price);break;
		}
		case 7:{
			lblTotalPrice_7.setText(price);break;
		}
		case 8:{
			lblTotalPrice_8.setText(price);break;
		}
		case 9:{
			lblTotalPrice_9.setText(price);break;
		}
		case 10:{
			lblTotalPrice_10.setText(price);break;
		}
		}
	}
	
	private boolean pressedCount() {
		if (pressedCount > 1) {
			return false;
		}
		
		return true;
	}
	

	public void jViewButtonActionPerformed(ActionEvent e, int value) {
	    labelsPanel.removeAll(); 

	    if (pressedCount()) {
	        try {
	            pst = con.prepareStatement("SELECT * FROM order_cart");
	            rs = pst.executeQuery();

	            GridBagConstraints gbc = new GridBagConstraints();
	            gbc.anchor = GridBagConstraints.WEST;
	            gbc.insets = new Insets(5, 5, 5, 5); 
	            gbc.gridx = 0; 

	            SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
	            String printedDate = dateFormat.format(new Date());
	            JLabel bonAppetitLabel = new JLabel("Bon Appetit");
	            JLabel dateLabel = new JLabel("Printed on: " + printedDate);

	            Font monoFont = new Font(Font.MONOSPACED, Font.PLAIN, 12);
	            bonAppetitLabel.setFont(monoFont);
	            dateLabel.setFont(monoFont);

	            gbc.gridwidth = 4; 
	            labelsPanel.add(bonAppetitLabel, gbc);

	            gbc.gridy = 1; 
	            labelsPanel.add(dateLabel, gbc);

	            gbc.gridwidth = 1; 

	            JLabel[] columnIdentifiers = new JLabel[4];
	            columnIdentifiers[0] = new JLabel("Quantity");
	            columnIdentifiers[1] = new JLabel("Name");
	            columnIdentifiers[2] = new JLabel("Price");
	            columnIdentifiers[3] = new JLabel("Total Price");

	            for (JLabel label : columnIdentifiers) {
	                label.setFont(monoFont);
	            }

	            gbc.gridy = 2; 
	            for (int i = 0; i < 4; i++) {
	                gbc.gridx = i; 
	                labelsPanel.add(columnIdentifiers[i], gbc);
	            }

	            int rowCount = 3; 
	            while (rs.next()) {
	                searchedCode = rs.getString("order_code");

	                if (codeCheck1(value)) {
	                    row[0] = searchedCode;
	                    row[1] = rs.getString("order_number");
	                    row[2] = rs.getString("dish_name");
	                    row[3] = rs.getString("price");
	                    row[4] = rs.getString("quantity");
	                    row[5] = rs.getString("total_price");
	                    row[6] = rs.getString("status");
	                    row[7] = rs.getString("remarks");

	                    model.addRow(row);

	                    String quantity = rs.getString("quantity");
	                    String dishNameText = rs.getString("dish_name");
	                    String price = rs.getString("price");
	                    String totalPrice = rs.getString("total_price");

	                    String dishNameCleaned = removeHtmlTags(dishNameText);

	                    JLabel[] labels = new JLabel[4];
	                    labels[0] = new JLabel(quantity);
	                    labels[1] = new JLabel(dishNameCleaned);
	                    labels[2] = new JLabel(price);
	                    labels[3] = new JLabel(totalPrice);

	                    for (JLabel label : labels) {
	                        label.setFont(monoFont);
	                    }

	                    gbc.gridy = rowCount; 

	                    for (int i = 0; i < 4; i++) {
	                        gbc.gridx = i; 
	                        labelsPanel.add(labels[i], gbc);
	                    }
	                }

	                rowCount++;
	            }

	            labelsPanel.revalidate();
	            labelsPanel.repaint();

	        } catch (SQLException ex) {
	            ex.printStackTrace();
	        }
	        pressedCount++;
	    }
	    
	    panelReceipt.setVisible(false);
	}


	
	
	
	private boolean codeCheck1(int value) {
		
		String label = null;
		
		switch(value) {
		case 1:{
			label = lblOrderCode_1.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_1.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_1.getText() + "0");break;
		}
		case 2:{
			label = lblOrderCode_2.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_2.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_2.getText()+ "0");break;
		}
		case 3:{
			label = lblOrderCode_3.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_3.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_3.getText()+ "0");break;
		}
		case 4:{
			label = lblOrderCode_4.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_4.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_4.getText()+ "0");break;
		}
		case 5:{
			label = lblOrderCode_5.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_5.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_5.getText()+ "0");break;
		}
		case 6:{
			label = lblOrderCode_6.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_6.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_6.getText()+ "0");break;
		}
		case 7:{
			label = lblOrderCode_7.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_7.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_7.getText()+ "0");break;
		}
		case 8:{
			label = lblOrderCode_8.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_8.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_8.getText()+ "0");break;
			
		}
		case 9:{
			label = lblOrderCode_9.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_9.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_9.getText()+ "0");break;
		}
		case 10:{
			label = lblOrderCode_10.getText();
			lblTotalPrice_11.setText("Total Price: " + lblTotalPrice_10.getText());
			lblTotalPrice_13.setText("₱ " + lblTotalPrice_10.getText()+ "0");break;
		}
			
		}
		
		if ( label.equals(searchedCode)) {
			return true;
		}
		
		return false;
	}
	
	public void tableRefresh() {
		
		int rowCount = model.getRowCount();
		for (int i = rowCount - 1; i >= 0; i--) {
		    model.removeRow(i);
		}
		
		
		pressedCount = 0;
	}
	
	public void jButtonCashActionPerformed(ActionEvent e) {
		panelReceipt.setVisible(true);
		labelsPanel.setVisible(true);
		lblTotalPrice_12.setVisible(true);
		lblTotalPrice_12.setText(lblTotalPrice_11.getText());
		lblTotalPrice_13.setVisible(false);
		lblGashReceipt.setVisible(false);
	}


	
	private String removeHtmlTags(String input) {
	    String withoutTags = input.replaceAll("\\<[^>]*>", "");
	    return withoutTags.replaceAll("\\<br[^>]*>", "\n");
	}
	
	
	private void deleteOrdersByOrderCode(String orderCode, Runnable dataRefreshCallback) {
	    try {
	        PreparedStatement deleteStatement = con.prepareStatement("DELETE FROM order_cart WHERE order_code = ?");
	        deleteStatement.setString(1, orderCode);
	        int rowsAffected = deleteStatement.executeUpdate();

	        if (rowsAffected > 0) {
	            JOptionPane.showMessageDialog(null, "Selected orders with order code " + orderCode + " have been successfully deleted.", "Success", JOptionPane.INFORMATION_MESSAGE);
	            
	            dataRefreshCallback.run();
	        } else {
	            JOptionPane.showMessageDialog(null, "No orders with order code " + orderCode + " found.", "Error", JOptionPane.ERROR_MESSAGE);
	        }

	    } catch (SQLException ex) {
	        ex.printStackTrace();
	        JOptionPane.showMessageDialog(null, "Error deleting orders: " + ex.getMessage(), "Error", JOptionPane.ERROR_MESSAGE);
	    }
	}

	private final Object[] row = new Object[9];
	private DefaultTableModel model;
	private JPanel panelmiddle;
	private JPanel panelLeft;
	private JPanel panelRight;
	private JPanel panel;
	private JButton btnCash;
	private JButton btnCreditCard;
	private JPanel panelReceipt;
	private JLabel lblGashReceipt;
	private JScrollPane scrollPane;
	private JLabel lblCashierPage;
	private JLabel lblOrderCode;
	private ImageIcon resizedIcon;
	private BufferedImage resizedImage;
	private ImageIcon originalIcon;
	private Graphics2D g2d;
	private Image originalImage;
	private JLabel lblOrderCode_1;
	private JLabel lblOrderCode_2;
	private JLabel lblOrderCode_3;
	private JLabel lblOrderCode_4;
	private JLabel lblOrderCode_5;
	private JLabel lblOrderCode_6;
	private JLabel lblOrderCode_7;
	private JLabel lblOrderCode_8;
	private JLabel lblOrderCode_9;
	private JLabel lblOrderCode_10;
	private JLabel lblTotalPrice;
	private JLabel lblTotalPrice_1;
	private JLabel lblTotalPrice_2;
	private JLabel lblTotalPrice_3;
	private JLabel lblTotalPrice_4;
	private JLabel lblTotalPrice_5;
	private JLabel lblTotalPrice_6;
	private JLabel lblTotalPrice_7;
	private JLabel lblView;
	private JPanel panel_1;
	private JLabel lblTotalPrice_9;
	private JLabel lblTotalPrice_8;
	private JTable table;
	private JButton btnView_9;
	private JButton btnView_10;
	private JButton btnView_2;
	private JButton btnView_3;
	private JButton btnView_4;
	private JButton btnView_1;
	private JButton btnView_5;
	private JButton btnView_6;
	private JButton btnView_7;
	private JButton btnView_8;
	private JButton jButtonDesserts;
	private JButton jButtonEntree;
	private JButton jButtonAppetizers;
	private Container lblMenu;
	private int totalRows;
	private String code;
	private int trueCount;
	private int pressedCount;
	private JLabel lblTotalPrice_10;
	private JLabel lblBackground;
	private int codesCount;
	private JScrollPane scrollPane_1;
	private String searchedCode;
	private JLabel lblTotalPrice_11;
	 private JPanel labelsPanel;
	 private JLabel lblTotalPrice_13;
	 private JButton btnNewButton;
}
